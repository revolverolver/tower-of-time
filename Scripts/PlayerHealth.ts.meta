fileFormatVersion: 2
guid: c4ee21d5ebfe39b4d9073d72d3d74f36
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.63","ReferencedSpecifiers":["@assets/Experience/tower-of-time/Scripts/EnemyNavigation","@assets/Experience/tower-of-time/Scripts/TimeManager","@assets/Experience/tower-of-time/Scripts/EnemySpawner","@assets/Experience/tower-of-time/Scripts/PlayerController","@assets/Experience/tower-of-time/Scripts/CameraMovement"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst EnemyNavigation_1 = require(\"@assets/Experience/tower-of-time/Scripts/EnemyNavigation\");\nconst
    TimeManager_1 = require(\"@assets/Experience/tower-of-time/Scripts/TimeManager\");\nconst
    EnemySpawner_1 = require(\"@assets/Experience/tower-of-time/Scripts/EnemySpawner\");\nconst
    CameraMovement_1 = require(\"@assets/Experience/tower-of-time/Scripts/CameraMovement\");\nclass
    PlayerHealth extends UnityEngine_1.MonoBehaviour {\n    //Called when script
    instance is loaded\n    Awake() {\n        PlayerHealth.health = PlayerHealth.maxHealth;\n   
    }\n    //Start is called on the frame when a script is enabled just \n    //before
    any of the Update methods are called the first time.\n    Start() {\n       
    this.gameManager = CameraMovement_1.default.Instance;\n        PlayerHealth.isAlive
    = true;\n    }\n    //Update is called every frame, if the MonoBehaviour is enabled.\n   
    Update() { }\n    ReceiveDamage(damage) {\n        if (PlayerHealth.health <=
    0)\n            return;\n        PlayerHealth.health -= damage;\n        // Update
    health bar\n        let x = PlayerHealth.health / PlayerHealth.maxHealth;\n       
    this.healthBar.localScale = new UnityEngine_1.Vector3(x, 1, 1);\n        // Play
    damage animation\n        //this.animator.enabled = true;\n        // @ts-ignore\n       
    this.damageIndicatorAnimator.Play_EBB7509C_H78681CF5((\"Damaged\"), -1, (0));\n       
    if (PlayerHealth.health <= 0) {\n            // Died and game over\n           
    this.DieAndStopGame();\n        }\n    }\n    DieAndStopGame() {\n        //
    Stop stuff\n        EnemyNavigation_1.default.isWalking = false;\n        TimeManager_1.default.isCounting
    = false;\n        EnemySpawner_1.default.isSpawning = false;\n        PlayerHealth.isAlive
    = false;\n        // Play fall animation\n        this.playerController.GameOver();\n       
    // Show game over\n        this.gameManager.ChangeCameraState(CameraMovement_1.CameraState.GAME_OVER);\n   
    }\n    UpdateHealthBar() {\n        let x = PlayerHealth.health / PlayerHealth.maxHealth;\n       
    this.healthBar.localScale = new UnityEngine_1.Vector3(x, 1, 1);\n    }\n}\nPlayerHealth.isAlive
    = true;\nPlayerHealth.maxHealth = 10;\nPlayerHealth.health = 10;\nexports.default
    = PlayerHealth;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVySGVhbHRoLmpzIiwibWFwcGluZ3MiOiI7O0FBQ0EsNkNBQXlFO0FBQ3pFLDhGQUErQztBQUMvQyxzRkFBdUM7QUFDdkMsd0ZBQXlDO0FBRXpDLDRGQUE0RDtBQUM1RCxNQUFxQixZQUFhLFNBQVEsMkJBQWE7SUFhbkQsdUNBQXNDO0lBQzlCLEtBQUs7UUFFVCxZQUFZLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxTQUFTO0lBQ2hEO0lBRUEsNkRBQTREO0lBQzVELDZEQUE0RDtJQUNwRCxLQUFLO1FBRVQsSUFBSSxDQUFDLFdBQVcsR0FBRyx3QkFBYyxDQUFDLFFBQVE7UUFDMUMsWUFBWSxDQUFDLE9BQU8sR0FBRyxJQUFJO0lBQy9CO0lBRUEsZ0VBQStEO0lBQ3ZELE1BQU0sS0FBVztJQUVsQixhQUFhLENBQUMsTUFBVztRQUU1QixJQUFJLFlBQVksQ0FBQyxNQUFNLElBQUksQ0FBQztZQUN4QixPQUFNO1FBRVYsWUFBWSxDQUFDLE1BQU0sSUFBSSxNQUFNO1FBRTdCLG9CQUFtQjtRQUNuQixJQUFJLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxTQUFTO1FBQ3BELElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLElBQUkscUJBQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVoRCx3QkFBdUI7UUFDdkIsK0JBQThCO1FBQy9CO1FBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLHVCQUFHLENBQUMsQ0FBQyxTQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRSxFQUFDLENBQUM7UUFFbkQsSUFBSSxZQUFZLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDNUI7WUFDSSxxQkFBb0I7WUFDcEIsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUN6QjtJQUNKO0lBRVEsY0FBYztRQUVsQixhQUFZO1FBQ1oseUJBQWUsQ0FBQyxTQUFTLEdBQUcsS0FBSztRQUNqQyxxQkFBVyxDQUFDLFVBQVUsR0FBRyxLQUFLO1FBQzlCLHNCQUFZLENBQUMsVUFBVSxHQUFHLEtBQUs7UUFDL0IsWUFBWSxDQUFDLE9BQU8sR0FBRyxLQUFLO1FBRTVCLHNCQUFxQjtRQUNyQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1FBRWhDLGlCQUFnQjtRQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLDRCQUFXLENBQUMsU0FBUyxDQUFDO0lBQzdEO0lBRU8sZUFBZTtRQUVsQixJQUFJLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxTQUFTO1FBQ3BELElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLElBQUkscUJBQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNwRDs7QUEvRGMsb0JBQU8sR0FBUyxJQUFJO0FBRXBCLHNCQUFTLEdBQVEsRUFBRTtBQUNuQixtQkFBTSxHQUFRLEVBQUU7a0JBWGIsWUFBWSIsIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiUGxheWVySGVhbHRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF19","ScriptHash":"440f1925215fa515eb2c52938b7cca99","Specifier":"@assets/Experience/tower-of-time/Scripts/PlayerHealth","DefaultTypeName":"@assets/Experience/tower-of-time/Scripts/PlayerHealth.PlayerHealth","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/tower-of-time/Scripts/PlayerHealth.PlayerHealth","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.11.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"playerController","Name":"playerController","TypeName":"@assets/Experience/tower-of-time/Scripts/PlayerController.PlayerController","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":true,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Player
    Controller","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"healthBar","Name":"healthBar","TypeName":"UnityEngine.Transform","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Health
    Bar","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"damageIndicatorAnimator","Name":"damageIndicatorAnimator","TypeName":"UnityEngine.Animator","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Damage
    Indicator Animator","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null}],"SupportedUiEvents":"None","DisplayName":"PlayerHealth","name":"PlayerHealth","hideFlags":"NotEditable"}'
