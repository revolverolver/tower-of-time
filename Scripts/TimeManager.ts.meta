fileFormatVersion: 2
guid: 0358c7948a1cb1344ba4cc87f31fda85
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"__scriptableObject__name":"TimeManager","__scriptableObject__type":"Genies.Scripting.AssetTypes.TsAsset,
    Genies.Scripting, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null","IsCompiled":true,"CompilerVersion":"2.0.66","ReferencedSpecifiers":["@assets/Experience/tower-of-time/Scripts/Tower","@assets/Experience/tower-of-time/Scripts/RoundManager","@assets/Experience/tower-of-time/Scripts/CameraMovement","@assets/Experience/tower-of-time/Scripts/EnemySpawner","@assets/Experience/tower-of-time/Scripts/EnemyNavigation"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst RoundManager_1 = require(\"@assets/Experience/tower-of-time/Scripts/RoundManager\");\nconst
    CameraMovement_1 = require(\"@assets/Experience/tower-of-time/Scripts/CameraMovement\");\nconst
    EnemySpawner_1 = require(\"@assets/Experience/tower-of-time/Scripts/EnemySpawner\");\nconst
    EnemyNavigation_1 = require(\"@assets/Experience/tower-of-time/Scripts/EnemyNavigation\");\nclass
    TimeManager extends UnityEngine_1.MonoBehaviour {\n    //Called when script instance
    is loaded\n    Awake() { }\n    //Start is called on the frame when a script
    is enabled just \n    //before any of the Update methods are called the first
    time.\n    Start() {\n        this.gameManager = CameraMovement_1.default.Instance;\n       
    this.inGameTimeText.text = \"\";\n        TimeManager.isCounting = false;\n       
    TimeManager.totalTime = 0.0;\n    }\n    //Update is called every frame, if the
    MonoBehaviour is enabled.\n    Update() {\n        if (TimeManager.isCounting)
    {\n            this.CountDownRound();\n        }\n    }\n    CountDownRound()
    {\n        this.roundTimeLeft -= UnityEngine_1.Time.deltaTime;\n        let minutes
    = Math.floor(this.roundTimeLeft / 60.0);\n        let seconds = Math.round(this.roundTimeLeft
    - (minutes * 60.0));\n        let secString = (seconds < 10) ? \"0\" + seconds.toString()
    : seconds.toString();\n        let finalTime = minutes.toString() + \":\" + secString;\n       
    this.inGameTimeText.text = finalTime;\n        // Convert time to XP\n       
    TimeManager.totalTime += UnityEngine_1.Time.deltaTime;\n        // When count
    is over\n        if (this.roundTimeLeft < 0.1) {\n            TimeManager.isCounting
    = false;\n            this.inGameTimeText.text = \"\";\n            // Pause
    spawning enemies\n            EnemySpawner_1.default.isSpawning = false;\n           
    // Stop walking\n            EnemyNavigation_1.default.isWalking = false;\n           
    // Kill all enemies if swarm round\n            if (RoundManager_1.default.swarmRound)
    {\n                RoundManager_1.default.swarmRound = false;\n               
    EnemySpawner_1.default.killAll = true;\n                // Clear turrets\n               
    let turrets = // @ts-ignore\n                 UnityEngine_1.GameObject.FindGameObjectWithTag(\"Spawner\").GetComponent(\"@assets/Experience/tower-of-time/Scripts/EnemySpawner.EnemySpawner\").turrets;\n               
    for (let i = 0; i < turrets.length; i++) {\n                    turrets[i].ClearTargets();\n               
    }\n            }\n            // Change game state\n            this.gameManager.ChangeCameraState(CameraMovement_1.CameraState.ROUND_OVER);\n       
    }\n    }\n    // --- Public Call stuff ---\n    StartCountdown(degrees) {\n       
    this.roundTimeObject.SetActive(false);\n        this.roundObject.SetActive(false);\n       
    this.swarmWarning.SetActive(false);\n        let sec = Math.ceil(degrees / 60);\n       
    let roundTime = sec * 10;\n        this.roundTimeLeft = roundTime;\n        TimeManager.isCounting
    = true;\n    }\n    ShowRoundTime(degrees) {\n        // Convert euler angles
    to time\n        //let division = (RoundManager.round == 1) ? 30 : 60;\n       
    let sec = Math.ceil(degrees / 60);\n        let roundTime = sec * 10;\n       
    // Show text\n        this.roundTimeText.text = roundTime.toString() + \" seconds\";\n       
    this.roundTimeObject.SetActive(true);\n        // Play animation\n        //this.animator.Play(\"Round
    Time Popup\", -1, 0);\n    }\n    ShowRound(round) {\n        this.roundText.text
    = round.toString();\n        this.roundObject.SetActive(true);\n        this.tapToSpin.SetActive(true);\n       
    // Play animation\n        //this.animator.Play(\"Round Popup\", -1, 0);\n   
    }\n    HideTapToSpin() {\n        this.tapToSpin.SetActive(false);\n    }\n}\nTimeManager.totalTime
    = 0.0;\nexports.default = TimeManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2pDLElBQUksU0FBUyxHQUFHLEdBQUcsR0FBRyxFQUFFO1FBRXhCLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUztRQUM5QixXQUFXLENBQUMsVUFBVSxHQUFHLElBQUk7SUFDakM7SUFFTyxhQUFhLENBQUMsT0FBYztRQUUvQiwrQkFBOEI7UUFDOUIscURBQW9EO1FBQ3BELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQyxJQUFJLFNBQVMsR0FBRyxHQUFHLEdBQUcsRUFBRTtRQUV4QixZQUFXO1FBQ1gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLFFBQVEsRUFBRSxHQUFHLFVBQVU7UUFDM0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBRXBDLGlCQUFnQjtRQUNoQixnREFBK0M7SUFDbkQ7SUFFTyxTQUFTLENBQUMsS0FBVTtRQUV2QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFO1FBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztRQUNoQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFFOUIsaUJBQWdCO1FBQ2hCLDJDQUEwQztJQUM5QztJQUVPLGFBQWE7UUFFaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQ25DOztBQWxIYyxxQkFBUyxHQUFVLEdBQUc7a0JBZm5CLFdBQVciLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlRpbWVNYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF19","ScriptHash":"c752522300399b73b10cd425acfe28b5","Specifier":"@assets/Experience/tower-of-time/Scripts/TimeManager","DefaultTypeName":"@assets/Experience/tower-of-time/Scripts/TimeManager.TimeManager","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/tower-of-time/Scripts/TimeManager.TimeManager","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.13.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"inGameTimeText","Name":"inGameTimeText","TypeName":"TMPro.TextMeshProUGUI","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"In
    Game Time Text","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"roundTimeObject","Name":"roundTimeObject","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Round
    Time Object","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"roundTimeText","Name":"roundTimeText","TypeName":"TMPro.TextMeshProUGUI","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Round
    Time Text","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"roundObject","Name":"roundObject","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Round
    Object","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"roundText","Name":"roundText","TypeName":"TMPro.TextMeshProUGUI","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Round
    Text","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"tapToSpin","Name":"tapToSpin","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Tap
    To Spin","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"swarmWarning","Name":"swarmWarning","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Swarm
    Warning","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null}],"SupportedUiEvents":"None"}'
