fileFormatVersion: 2
guid: 3b79ec6c5283840459fa7dee871120ea
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"__scriptableObject__name":"EnemyDamage","__scriptableObject__type":"Genies.Scripting.AssetTypes.TsAsset,
    Genies.Scripting, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null","IsCompiled":true,"CompilerVersion":"2.0.66","ReferencedSpecifiers":["@assets/Experience/tower-of-time/Scripts/RoundManager","@assets/Experience/tower-of-time/Scripts/EnemySpawner","@assets/Experience/tower-of-time/Scripts/PlayerHealth","@assets/Experience/tower-of-time/Scripts/ParticlePool","@assets/Experience/tower-of-time/Scripts/DamagePool"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst RoundManager_1 = require(\"@assets/Experience/tower-of-time/Scripts/RoundManager\");\nconst
    EnemySpawner_1 = require(\"@assets/Experience/tower-of-time/Scripts/EnemySpawner\");\nclass
    EnemyDamage extends UnityEngine_1.MonoBehaviour {\n    //Called when script instance
    is loaded\n    Awake() {\n        this.originalHealth = this.health;\n    }\n   
    //Start is called on the frame when a script is enabled just \n    //before any
    of the Update methods are called the first time.\n    Start() {\n        // +=
    RoundManager.round;\n    }\n    OnEnable() {\n        this.health = this.originalHealth
    + RoundManager_1.default.round * 1;\n        if (this.type == 1)\n           
    this.health += RoundManager_1.default.round * 3;\n        else if (RoundManager_1.default.round
    > 6 && this.type == 0)\n            this.health += RoundManager_1.default.round
    / 2;\n        else if (RoundManager_1.default.round > 24 && this.type == 2)\n           
    this.health += RoundManager_1.default.round / 2;\n    }\n    //Update is called
    every frame, if the MonoBehaviour is enabled.\n    Update() {\n        if (EnemySpawner_1.default.killAll)
    {\n            // Self destruct\n            EnemySpawner_1.default.wormsAlive--;\n           
    //this.health = this.originalHealth + RoundManager.round;\n            this.gameObject.SetActive(false);\n       
    }\n    }\n    TakeDamage(damage) {\n        this.health -= damage;\n        //
    Show damage number\n        this.damagePool.ShowDamageText(this.transform.position,
    damage, this.type);\n        if (this.health <= 0) {\n            // Die\n           
    // Spawn particles\n            //let offset = Vector3.op_Addition(this.transform.position,
    new Vector3(0, 0.1, 0));\n            //let rot = Quaternion.Euler(-90, 0, 0);\n           
    //Object.Instantiate(this.particles, offset, rot);\n            this.particlePool.SpawnParticles(this.type,
    this.transform.position);\n            // Destroy\n            //Object.Destroy(this.gameObject);\n           
    EnemySpawner_1.default.wormsAlive--;\n            //this.health = this.originalHealth
    + RoundManager.round;\n            this.gameObject.SetActive(false);\n       
    }\n    }\n    OnCollisionEnter(collision) {\n        if (collision.transform.tag
    == \"Player\") {\n            let player = // @ts-ignore\n             collision.gameObject.GetComponent(\"@assets/Experience/tower-of-time/Scripts/PlayerHealth.PlayerHealth\");\n           
    player.ReceiveDamage(1);\n        }\n    }\n    OnDestroy() {\n        // Reduce
    count\n        EnemySpawner_1.default.wormsAlive--;\n    }\n}\nexports.default
    = EnemyDamage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5lbXlEYW1hZ2UuanMiLCJtYXBwaW5ncyI6Ijs7QUFDQSw2Q0FBMEc7QUFDMUcsd0ZBQXlDO0FBQ3pDLHdGQUF5QztBQUl6QyxNQUFxQixXQUFZLFNBQVEsMkJBQWE7SUFVbEQsdUNBQXNDO0lBQzlCLEtBQUs7UUFFVCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxNQUFNO0lBQ3JDO0lBRUEsNkRBQTREO0lBQzVELDZEQUE0RDtJQUNwRCxLQUFLO1FBRVoseUJBQXdCO0lBQ3pCO0lBRVEsUUFBUTtRQUVaLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxzQkFBWSxDQUFDLEtBQUssR0FBRyxDQUFDO1FBQzFELElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDO1lBQ2QsSUFBSSxDQUFDLE1BQU0sSUFBSSxzQkFBWSxDQUFDLEtBQUssR0FBRyxDQUFDO2FBQ3BDLElBQUksc0JBQVksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztZQUM3QyxJQUFJLENBQUMsTUFBTSxJQUFJLHNCQUFZLENBQUMsS0FBSyxHQUFHLENBQUM7YUFDcEMsSUFBSSxzQkFBWSxDQUFDLEtBQUssR0FBRyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDO1lBQzlDLElBQUksQ0FBQyxNQUFNLElBQUksc0JBQVksQ0FBQyxLQUFLLEdBQUcsQ0FBQztJQUM3QztJQUVBLGdFQUErRDtJQUN2RCxNQUFNO1FBRVYsSUFBSSxzQkFBWSxDQUFDLE9BQU8sRUFDeEI7WUFDSSxnQkFBZTtZQUNmLHNCQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDMUIseURBQXdEO1lBQ3hELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztRQUNwQztJQUNKO0lBRU8sVUFBVSxDQUFDLE1BQVc7UUFFekIsSUFBSSxDQUFDLE1BQU0sSUFBSSxNQUFNO1FBRXJCLHFCQUFvQjtRQUNwQixJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztRQUUxRSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUNwQjtZQUNJLE1BQUs7WUFDTCxrQkFBaUI7WUFDakIsb0ZBQW1GO1lBQ25GLHdDQUF1QztZQUN2QyxrREFBaUQ7WUFDakQsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQztZQUVwRSxVQUFTO1lBQ1Qsa0NBQWlDO1lBQ2pDLHNCQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDMUIseURBQXdEO1lBQ3hELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztRQUNwQztJQUNKO0lBRVEsZ0JBQWdCLENBQUMsU0FBb0I7UUFFekMsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxRQUFRLEVBQ3ZDO1lBQ0ksSUFBSSxNQUFNLEdBQUU7YUFBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFlBQVcscUVBQWEsQ0FBSTtZQUM5RCxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUMzQjtJQUNKO0lBRVEsU0FBUztRQUViLGVBQWM7UUFDZCxzQkFBWSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzlCO0NBQ0o7QUFwRkEsOEJBb0ZBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJFbmVteURhbWFnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","ScriptHash":"df915ded9a747885353c676bee0a78cd","Specifier":"@assets/Experience/tower-of-time/Scripts/EnemyDamage","DefaultTypeName":"@assets/Experience/tower-of-time/Scripts/EnemyDamage.EnemyDamage","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/tower-of-time/Scripts/EnemyDamage.EnemyDamage","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.13.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"particles","Name":"particles","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Particles","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"particlePool","Name":"particlePool","TypeName":"@assets/Experience/tower-of-time/Scripts/ParticlePool.ParticlePool","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":true,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Particle
    Pool","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"damagePool","Name":"damagePool","TypeName":"@assets/Experience/tower-of-time/Scripts/DamagePool.DamagePool","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":true,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Damage
    Pool","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"type","Name":"type","TypeName":"System.Int32","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Type","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null},{"Path":"health","Name":"health","TypeName":"System.Int32","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Health","_arrayElementInitializerJson":null,"_childPropertiesJson":"[]","_prettyName":null}],"SupportedUiEvents":"None"}'
